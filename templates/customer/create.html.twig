{% extends 'base.html.twig' %}

{% block title %}Cr√©er un Client - RentAuto{% endblock %}

{% block content %}
    <div data-controller="customer-create" data-customer-create-endpoint-value="/api/customers">
        <div class="flex items-center justify-between">
        </div>

        <div class="rounded-lg border border-gray-200 bg-white shadow-sm">
            <div class="flex items-center justify-between px-4 py-3 border-b border-gray-100">
                <h2 class="text-md font-semibold text-gray-800">Nouveau Client</h2>
                <a href="{{ path('app_customer') }}" class="text-sm text-indigo-600 hover:text-indigo-500">‚Üê Retour</a>

            </div>
            <div class="grid gap-4 p-8">
                <form id="customer-create-form" class="space-y-10" data-action="submit->customer-create#submit">
                    <!-- Informations personnelles -->
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-2">
                            <!-- Pr√©nom -->
                            <div>
                                <label for="firstName" class="block text-sm font-medium text-gray-900">Pr√©nom</label>
                                <div class="mt-2">
                                    <input id="firstName" name="firstName" type="text" placeholder="Ex: Jean" required
                                           class="block w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm shadow-sm placeholder-gray-400 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500/50 focus:outline-none" />
                                </div>
                                <div data-customer-create-target="firstNameError" class="mt-1 text-xs text-red-600"></div>
                            </div>

                            <!-- Nom -->
                            <div>
                                <label for="lastName" class="block text-sm font-medium text-gray-900">Nom</label>
                                <div class="mt-2">
                                    <input id="lastName" name="lastName" type="text" placeholder="Ex: Dupont" required
                                           class="block w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm shadow-sm placeholder-gray-400 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500/50 focus:outline-none" />
                                </div>
                                <div data-customer-create-target="lastNameError" class="mt-1 text-xs text-red-600"></div>
                            </div>

                            <!-- Sexe -->
                            <div>
                                <label for="gender" class="block text-sm font-medium text-gray-900">Sexe</label>
                                <div class="mt-2">
                                    <select id="gender" name="gender" required
                                            class="w-full pl-4 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent text-sm bg-white outline-none">
                                        <option value="M">Homme</option>
                                        <option value="F">Femme</option>
                                    </select>
                                </div>
                                <div data-customer-create-target="genderError" class="mt-1 text-xs text-red-600"></div>
                            </div>
                            <!-- Date de naissance -->

                            <div>
                                <label for="birthDate" class="block text-sm font-medium text-gray-900">Date de naissance</label>
                                <div class="relative mt-2">
                                    <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-gray-400">üéÇ</span>
                                    <input id="birthDate" name="birthDate" type="date"
                                           class="w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent text-sm bg-white outline-none" />
                                </div>
                                <div data-customer-create-target="birthDateError" class="mt-1 text-xs text-red-600"></div>
                            </div>
                            <!-- Email -->
                            <div>
                                <label for="email" class="block text-sm font-medium text-gray-900">Email</label>
                                <div class="mt-2">
                                    <input id="email" name="email" type="email" placeholder="exemple@mail.com"
                                           data-action="blur->customer-create#checkDuplicate"
                                           class="block w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm shadow-sm placeholder-gray-400 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500/50 focus:outline-none" />
                                </div>
                                <div data-customer-create-target="emailError" class="mt-1 text-xs text-red-600"></div>
                            </div>

                            <!-- T√©l√©phone -->
                            <div>
                                <label for="phoneNumber" class="block text-sm font-medium text-gray-900">T√©l√©phone</label>
                                <div class="mt-2">
                                    <input id="phoneNumber" name="phoneNumber" type="text" placeholder="+212 6 .." required
                                           class="block w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm shadow-sm placeholder-gray-400 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500/50 focus:outline-none" />
                                </div>
                                <div data-customer-create-target="phoneNumberError" class="mt-1 text-xs text-red-600"></div>
                            </div>

                            <!-- Adresse -->
                            <div class="md:col-span-2">
                                <label for="address" class="block text-sm font-medium text-gray-900">Adresse</label>
                                <div class="mt-2">
                                    <textarea id="address" name="address" rows="3" placeholder="Adresse compl√®te"
                                              class="block w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm shadow-sm placeholder-gray-400 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500/50 focus:outline-none resize-y"></textarea>
                                </div>
                                <div data-customer-create-target="addressError" class="mt-1 text-xs text-red-600"></div>
                            </div>
                            <!-- CIN -->
                            <div>
                                <label for="identityNumber" class="block text-sm font-medium text-gray-900">CIN</label>
                                <div class="mt-2">
                                    <input id="identityNumber" name="identityNumber" type="text" placeholder="AB123456" required
                                           data-action="blur->customer-create#checkDuplicate"
                                           class="block w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm shadow-sm placeholder-gray-400 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500/50 focus:outline-none" />
                                </div>
                                <div data-customer-create-target="identityNumberError" class="mt-1 text-xs text-red-600"></div>
                            </div>

                            <!-- N¬∞ Permis -->
                            <div>
                                <label for="drivingLicenseNumber" class="block text-sm font-medium text-gray-900">N¬∞ Permis</label>
                                <div class="mt-2">
                                    <input id="drivingLicenseNumber" name="drivingLicenseNumber" type="text" placeholder="XXXXXX" required
                                           data-action="blur->customer-create#checkDuplicate"
                                           class="block w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm shadow-sm placeholder-gray-400 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500/50 focus:outline-none" />
                                </div>
                                <div data-customer-create-target="drivingLicenseNumberError" class="mt-1 text-xs text-red-600"></div>
                            </div>

                            <!-- Expiration du permis -->
                            <div>
                                <label for="licenseExpirationDate" class="block text-sm font-medium text-gray-900">Expiration du permis</label>
                                <div class="relative mt-2">
                                    <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-gray-400">‚è≥</span>
                                    <input id="licenseExpirationDate" name="licenseExpirationDate" type="date"
                                           class="w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent text-sm bg-white outline-none" />
                                </div>
                                <div data-customer-create-target="licenseExpirationDateError" class="mt-1 text-xs text-red-600"></div>
                            </div>

                            <!-- Actif -->
                            <div>
                                <label for="active" class="block text-sm font-medium text-gray-900">Actif</label>
                                <div class="mt-2">
                                    <select id="active" name="active" required
                                            class="w-full pl-4 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent text-sm bg-white outline-none">
                                        <option value="1">Oui</option>
                                        <option value="0">Non</option>
                                    </select>
                                </div>
                                <div data-customer-create-target="activeError" class="mt-1 text-xs text-red-600"></div>
                            </div>
                        </div>

                    <!-- Boutons -->
                    <div class="flex items-center gap-4">
                        <button type="submit" data-customer-create-target="submitBtn"
                                class="inline-flex items-center rounded-md bg-indigo-600 px-3 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2">                            Ajouter le client
                        </button>
                        <span data-customer-create-target="status" class="text-sm text-gray-600"></span>
                    </div>
                </form>
            </div>
        </div>
    </div>
{% endblock %}
